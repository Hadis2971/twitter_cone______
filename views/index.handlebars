<!DOCTYPE html>
<html lang="en" style="overflow-x:hidden;">
    <head>
        <title>NodeJS Practice</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <style>
            .spanClass{
                position: absolute;
                bottom: 0em;
                right: 0em;
                font-size: 0.75em;
                
            }

            .listClass{
                width: auto;
                height: 100%;
                overflow-x: none;
                margin-top:0.3em;
                position:relative;
                font-size:1.3em;
                background-color:#f2f2f2;
                box-sizing:border-box;
                padding:0.75em;
            }

            .closeClass{
                color:#737373;
                position:absolute;
                bottom:0.65em;
                right:0em;
                font-size:1.8em;
                cursor:pointer;
            }

                /* width */
            ::-webkit-scrollbar {
                width: 10px;
            }

            /* Track */
            ::-webkit-scrollbar-track {
                box-shadow: inset 0 0 5px grey; 
                border-radius: 10px;
            }
            
            /* Handle */
            ::-webkit-scrollbar-thumb {
                background: #686868; 
                border-radius: 10px;
            }

        
        </style>
    </head>
    <body style="overflow-x:hidden;">
        {{#user}}
        <h1 style="font-weight:300;">Twitter-Colne Home Page</h1>
        <div class="row">
            <div class="col-lg-5">
                
                <div class="card card-body mb-3">
                    {{#if this.profilePrictureFilename}}
                         <img src="/image/{{this.profilePrictureFilename}}" class="img-fluid" style="width:100%;">   
                    {{else}}
                    <img src="/images/question.svg" class="img-fluid" style="width:100%;">
                    {{/if}}
                  
                    <p class="mt-2" style="background-color:#f2f2f2;box-sizing:border-box;padding:1%;">{{this.name}}</p>
                </div> 
            </div>
        


            <div class="col-lg-7">
                <div style="border:0.03em solid #ccc;box-sizing:border-box;padding:2.5%;min-height:25em;">
                    <form id="deleteTweetForm" method="POST" action="/user/removeTweet/{{id}}?_method=DELETE">
                    <ul id="listBox" style="list-style-type:none;padding:0em;max-height:25em;overflow-y:auto;">                         
                       
                       {{#each this.tweetsArr}}
                            <li class="listClass">
                             
                            {{#if ../this.profilePrictureFilename}}
                                <img src="/image/{{../this.profilePrictureFilename}}" class="img-fluid" style="max-width:2.5em;max-height:2.5em;">
                            {{else}}
                            <img src="/images/question.svg" class="img-fluid" style="max-width:2.5em;max-height:2.5em;">
                            {{/if}}
                                
                            {{this.text}}
                            <span class="closeClass">&times;</span>                            
                            <span class="spanClass">{{this.time}}</span></li>    
                       {{/each}}
                       
                    </ul>
                    <input type="hidden" id="hiddenText" name="hiddenText">
                    <input type="hidden" id="hiddenTime" name="hiddenTime">
                   </form> 
                </div>
                
                <form id="tweetTextForm" class="mt-2" method="POST" action="/user/postTweet/{{this._id}}">
                    <div class="form-group mt-3">
                        <label for="textArea">Your Thoughs...</label>
                        <textarea class="form-control" id="textArea" name="textArea" rows="3"></textarea>
                    </div>
                    <button onclick="addCloneTweet()" class="btn btn-success">Submit</button>
                </form>
                    
            </div>
        </div>
    {{/user}}
    <script src="/scripts/index.js"></script>        
    </body>
</html>
